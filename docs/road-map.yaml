# Cobbler Roadmap
# Release schedule and use case status for cobbler.
#
# Commands (shoemaking terms):
#   measure: assess project state, propose tasks
#   stitch: execute work via agents
#   inspect: evaluate output quality
#   mend: fix tests and lint
#   pattern: propose design changes

releases:
  - id: "00.0"
    focus: Cross-release milestones
    description: |
      Milestones that span multiple releases. These are not tied to a single
      release but track progress across the project lifecycle.
    use_cases: []
    deliverables:
      - Cupboard interface integration complete
      - Prototype scripts (make-work.sh, do-work.sh) obsolete
      - All five commands operational

  - id: "01.0"
    focus: Core measure and stitch
    description: |
      Measure and stitch working end-to-end with full context injection,
      container-isolated Claude, generation lifecycle, iterative measure,
      history artifacts, config-driven orchestration, and orchestrator-managed
      git. This release combines the core execution pipeline validated by
      cobbler-scaffold.
    use_cases:
      - id: rel01.0-uc001-cupboard-connection
        name: Cupboard connection
        description: Connect to crumbs cupboard via Go module import
        status: planned
      - id: rel01.0-uc002-generation-lifecycle
        name: Generation lifecycle
        description: Start, run, resume, stop a generation with tagging and recovery
        status: planned
      - id: rel01.0-uc003-iterative-measure
        name: Iterative measure
        description: Propose tasks one per Claude call with dependency wiring
        status: planned
      - id: rel01.0-uc004-benchmark-hello-world
        name: Benchmark hello world
        description: Stitch a hello world Go CLI from a benchmark fixture
        status: planned
      - id: rel01.0-uc005-history-artifacts
        name: History artifacts
        description: Save prompt, log, and stats per invocation to history directory
        status: planned
      - id: rel01.0-uc006-context-assembly
        name: Context assembly
        description: Build full ProjectContext YAML blob from project documents
        status: planned
    deliverables:
      - cmd/cobbler CLI entry point with measure and stitch subcommands
      - internal/measure iterative task proposal with full context injection
      - internal/stitch task execution with orchestrator-managed git
      - internal/context ProjectContext assembly and phase-specific overrides
      - Generation lifecycle (start, run, resume, stop, reset, list, switch)
      - Container-isolated Claude execution via podman
      - History artifacts (prompt, log, stats per invocation)
      - Config-driven orchestration (no method parameters)
      - internal/crumbs cupboard wrapper using crumbs Go module

  - id: "02.0"
    focus: Stitch for code
    description: |
      Git worktree isolation for code tasks. Task branches follow the pattern
      task/{baseBranch}-{issueID}. Quality gates (tests, lint, build) run
      before merge.
    use_cases:
      - id: rel02.0-uc001-code-task-execution
        name: Code task execution
        description: Execute a code task in a git worktree with quality gates
        status: planned
      - id: rel02.0-uc002-task-branch-naming
        name: Task branch naming
        description: Task branches follow task/{baseBranch}-{issueID} pattern
        status: planned
    deliverables:
      - Git worktree creation and cleanup per task
      - Task branch naming pattern task/{baseBranch}-{issueID}
      - Quality gate execution (test, lint, build) before merge
      - Stale task recovery from interrupted runs

  - id: "03.0"
    focus: Inspect, mend, and pattern
    description: |
      Quality evaluation in inspect, automated fixes in mend, and design
      proposals in pattern. Inspect replaces quality gates that were originally
      planned for stitch. The development loop state machine composes all five
      commands.
    use_cases:
      - id: rel03.0-uc001-quality-evaluation
        name: Quality evaluation
        description: Inspect evaluates completed work against PRDs and code quality
        status: planned
      - id: rel03.0-uc002-automated-fixes
        name: Automated fixes
        description: Mend fixes failing tests and lint violations
        status: planned
      - id: rel03.0-uc003-design-proposals
        name: Design proposals
        description: Pattern proposes architectural changes based on specifications
        status: planned
    deliverables:
      - internal/inspect command implementation
      - internal/mend command implementation
      - internal/pattern command implementation
      - Development loop state machine composing all five commands
      - Path health monitoring across cycles

  - id: "99.0"
    focus: Unscheduled
    description: |
      Work items not yet assigned to a release. These may be future features,
      exploratory ideas, or items awaiting prioritization.
    use_cases:
      - id: rel99.0-uc001-agent-interface
        name: Agent interface strategy pattern
        description: Implement prd003 Go interface for provider abstraction
        status: planned
      - id: rel99.0-uc002-opentelemetry
        name: OpenTelemetry tracing
        description: Span-based tracing with OTLP export (prd004 future scope)
        status: planned
    deliverables:
      - Agent interface with strategy pattern (prd003)
      - OpenTelemetry tracing infrastructure (prd004 future)
      - Recursive operations (multi-level decomposition)
      - Parallel task execution

# Status values for use cases:
#   planned: Defined but not started
#   in-progress: Currently being implemented
#   done: Complete and verified
